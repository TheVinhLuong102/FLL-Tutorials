if (self.CavalryLogger) { CavalryLogger.start_js(["WdC+5"]); }

__d("StarsRatableComposerCloseResetBehaviorEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",RESET_TO_EMPTY:"reset_to_empty",RESET_TO_PREVIOUS:"reset_to_previous"})}),null);
__d("StarsRatableBase",["Event","Arbiter","CSS","DOM","Parent","Run","StarsRatableComposerCloseResetBehaviorEnum"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c,d,e){this.root=a,this.freezeOnClick=c,this.stars=b("DOM").scry(a,"a"),this.listeners=[b("Event").listen(this.root,"click",this._onClick.bind(this)),b("Event").listen(this.root,"mousemove",this._onMouseMove.bind(this)),b("Event").listen(this.root,"mouseout",this._onMouseOut.bind(this))],this.holdMouseMove=!1,this.setRating(d),this.defaultRating=d,this.composerHideResetBehavior=e,this.composerArbiters=[],b("Run").onLeave(this.destroyListeners.bind(this))}g.init=function(a,b,c,d){return new g(a,b,c,d)};Object.assign(g.prototype,{_onClick:function(event){__p&&__p();this.layerHides=0;var a=this._getStarIndexFromEvent(event);if(!a)return;this.setRating(a);this.freezeOnClick?this.freeze():this.holdMouseMove=!0;this.composerHideResetBehavior!==b("StarsRatableComposerCloseResetBehaviorEnum").NONE&&(this.composerArbiters=[b("Arbiter").subscribe("saving_rating_from_composer",function(a,c){this.defaultRating=c,this.setRating(this.composerHideResetBehavior===b("StarsRatableComposerCloseResetBehaviorEnum").RESET_TO_EMPTY?0:c),this._unsubscribeComposerArbiters()}.bind(this)),b("Arbiter").subscribe("canceling_from_composer",function(){this.setRating(this.composerHideResetBehavior===b("StarsRatableComposerCloseResetBehaviorEnum").RESET_TO_EMPTY?0:this.defaultRating),this._unsubscribeComposerArbiters()}.bind(this))]);event.prevent()},_unsubscribeComposerArbiters:function(){for(var a=0;a<this.composerArbiters.length;++a)b("Arbiter").unsubscribe(this.composerArbiters[a]);this.composerArbiters=[]},_onMouseMove:function(event){if(this.holdMouseMove)return;var a=this._getStarIndexFromEvent(event);if(!a)return;this.setStars(a,!0)},_onMouseOut:function(event){this.holdMouseMove=!1,this.updateStars()},_getStarIndexFromEvent:function(event){var a=b("Parent").byTag(event.getTarget(),"a");return a?this.stars.indexOf(a)+1:0},setRating:function(a){this._rating=a,this.updateStars()},updateStars:function(){this.setStars(this._rating)},setStars:function(a,c){var d=c?"hoverStar":"fullStar";c=c?"fullStar":"hoverStar";for(var e=0;e<this.stars.length;++e){b("CSS").removeClass(this.stars[e],c);var f=e>=a;b("CSS").conditionClass(this.stars[e],d,!f);b("CSS").conditionClass(this.stars[e],"emptyStar",f)}},freeze:function(){b("CSS").addClass(this.root,"uiStarsRated"),this.destroyListeners()},destroyListeners:function(){this.listeners.forEach(function(a){a&&a.remove()}),this.listeners=[]}});a.StarsRatableBase=e.exports=g}),null);
__d("FBTilesReportDialogItems.react",["React","XUIRadioList.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("XUIRadioList.react").Item;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={selectedType:"other"},this.$1=function(a){this.setState({selectedType:a}),this.props.onSelected(a)}.bind(this),b}a.prototype.render=function(){var a=[];Object.keys(this.props.types).forEach(function(c){a.push(b("React").createElement(h,{value:c,key:c},this.props.types[c].label))}.bind(this));return b("React").createElement(b("XUIRadioList.react"),{selectedValue:this.state.selectedType,onValueChange:this.$1},a)};e.exports=a}),null);
__d("MapsReporterTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MapsReporterLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MapsReporterLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MapsReporterLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCategory=function(a){this.$1.category=a;return this};a.prototype.setMapURI=function(a){this.$1.map_uri=a;return this};a.prototype.setNelat=function(a){this.$1.nelat=a;return this};a.prototype.setNelon=function(a){this.$1.nelon=a;return this};a.prototype.setPassesGkMapsTileserviceOsmDefault=function(a){this.$1.passes_gk_maps_tileservice_osm_default=a;return this};a.prototype.setPassesGkOxygenMapNewStyle=function(a){this.$1.passes_gk_oxygen_map_new_style=a;return this};a.prototype.setStage=function(a){this.$1.stage=a;return this};a.prototype.setSwlat=function(a){this.$1.swlat=a;return this};a.prototype.setSwlon=function(a){this.$1.swlon=a;return this};a.prototype.setUserComment=function(a){this.$1.user_comment=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setZoom=function(a){this.$1.zoom=a;return this};c={category:!0,map_uri:!0,nelat:!0,nelon:!0,passes_gk_maps_tileservice_osm_default:!0,passes_gk_oxygen_map_new_style:!0,stage:!0,swlat:!0,swlon:!0,user_comment:!0,vc:!0,zoom:!0};e.exports=a}),null);
__d("FBTilesInfoButton.react",["ix","cx","fbt","AdsTextInput.react","ContextualDialogArrow","FBTilesReportDialogItems.react","Image.react","Link.react","MapsReporterTypedLogger","PopoverMenu.react","React","ReactXUIMenu","XUIButton.react","XUIDialogCloseButton.react","gkx","joinClasses","leaflet","SimpleXUIDialog","XUIDialogButton.react","XUIDialogCancelButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").Item;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.REPORT_TYPES={lineLabel:{label:i._("Road Name"),title:i._("Report Problem With Road Name"),hint:i._("Which road is incorrectly named? (optional)")},line:{label:i._("Road Shape"),title:i._("Report Problem With Road Shape"),hint:i._("Which road is incorrectly shaped? (optional)")},lineMissing:{label:i._("Missing Road"),title:i._("Report Missing Road"),hint:i._("Which road is missing? (optional)")},polygon:{label:i._("Shape or Name of Building, Park, or Body of Water"),title:i._("Report Problem With Shape or Name of Building, Park, or Body of Water"),hint:i._("Which building, park, or body of water is incorrect? (optional)")},border:{label:i._("Country, State or City Border"),title:i._("Report Problem With Border"),hint:i._("Which border is incorrectly drawn? (optional)")},administrative:{label:i._("Country, State or City Name"),title:i._("Report Problem With Country, State or City Name"),hint:i._("Which name is incorrect? (optional)")},other:{label:i._("Other"),title:i._("Report Map Problem"),hint:i._("What's wrong with the map? (optional)")}},this.state={selectedReportType:null,reportedProblem:null,mapInfo:{mapSources:[],hereReportUrl:"",mapUrl:null,mapBounds:null,zoom:null}},this.$1=function(){this.setState({mapInfo:this.props.mapInfoCallback()});var a=this.state.mapInfo.mapSources;if(a.length==1&&a.includes("here")){this.$2();return}b("SimpleXUIDialog").showEx(b("React").createElement(b("FBTilesReportDialogItems.react"),{types:this.REPORT_TYPES,onSelected:function(a){return this.setState({selectedReportType:a})}.bind(this)}),i._("Report a Map Problem With"),b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",use:"confirm",label:i._("Continue"),onClick:this.$3})))}.bind(this),this.$3=function(){if(!this.state.selectedReportType)return;var a=this.REPORT_TYPES[this.state.selectedReportType];b("SimpleXUIDialog").showEx(b("React").createElement(b("AdsTextInput.react"),{multiline:!0,placeholder:a.hint,value:this.state.reportedProblem,onChange:function(a){return this.setState({reportedProblem:a})}.bind(this)}),a.title,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",use:"confirm",label:i._("Send"),onClick:this.$4})))}.bind(this),this.$4=function(){var a=new(b("MapsReporterTypedLogger"))().setStage("submit_comment").setCategory(this.state.selectedReportType).setUserComment(this.state.reportedProblem).setMapURI(this.state.mapInfo.mapUrl||""),c=this.state.mapInfo.mapBounds,d=this.state.mapInfo.zoom;c!=null&&d!=null&&a.setNelon(c.getEast()).setNelat(c.getNorth()).setSwlon(c.getWest()).setSwlat(c.getSouth()).setZoom(""+d).setPassesGkMapsTileserviceOsmDefault(b("gkx")("AT5P2IiZ_kUS2zz6yz5_0Vo840bmVovtzePF7AidLFFCoNUAIrBIhm_j40ME1aCiz_nGR9x4TDLSv85H3Kgpbk_7")).setPassesGkOxygenMapNewStyle(b("gkx")("AT7YkP-0zz4Uc25Pcq0-HNWM-mZPPNzr01gzRPAxAf-DOGzxDzZxMG7PYp8mMP5e4IzXnpyt99E_61A9DSFEe-so"));a.log();b("SimpleXUIDialog").showEx(i._("Your feedback helps us make Facebook maps better for everyone."),i._("Thank you"),b("React").createElement(b("XUIDialogCloseButton.react"),{use:"confirm"}))}.bind(this),c}a.prototype.render=function(){var a=b("React").createElement(b("ReactXUIMenu"),null,b("React").createElement(k,{key:"title",icon:b("React").createElement(b("Image.react"),{src:g("367566")}),onClick:function(){return window.open("/maps/attribution_terms","_blank")}},i._("Map Data Legal Notices")),b("React").createElement(k,{key:"report",icon:b("React").createElement(b("Image.react"),{src:g("408431")}),onClick:this.$1},i._("Report a problem")));return b("React").createElement(b("PopoverMenu.react"),{alignh:"right",position:"above",menu:a,layerBehaviors:[b("ContextualDialogArrow")]},b("React").createElement(b("Link.react"),{ref:"termsButton","aria-haspopup":"menu",className:b("joinClasses")(this.props.className,"_4cou")},b("React").createElement("div",{className:"_4cod"},b("React").createElement(b("Image.react"),{src:g("360713"),"aria-label":i._("Information")}))))};a.prototype.$2=function(){var a=b("SimpleXUIDialog").showEx(i._("This map has data from third-party providers. You will be redirected to them to provide feedback."),i._("Report a Map Problem"),b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIButton.react"),{className:"_4jy1",target:"_blank",use:"default",label:i._("Open"),href:this.state.mapInfo.hereReportUrl,onClick:function(){return a.hide()}})))};e.exports=a}),null);
__d("FBTilesStaticInfoButton.react",["FBTilesInfoButton.react","React"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("FBTilesInfoButton.react"),{className:this.props.className,mapInfoCallback:function(){return this.props.mapInfo}.bind(this)})};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("StaticMapCallout",["csx","CSS","DOM","Parent","Style","Vector","clamp"],(function(a,b,c,d,e,f,g){__p&&__p();var h=3;c=13;var i=10,j=c/2;function a(a,c,d,e,f,g){__p&&__p();this._root=a;this._arrows=b("DOM").find(a,".fbMapCalloutArrowWrap");this._topArrow=b("DOM").find(a,".fbMapCalloutArrowTop");this._bottomArrow=b("DOM").find(a,".fbMapCalloutArrowBottom");this._leftArrow=b("DOM").find(a,".fbMapCalloutArrowLeft");this._rightArrow=b("DOM").find(a,".fbMapCalloutArrowRight");this._main=b("DOM").find(a,".fbMapCalloutMain");this._content=b("DOM").find(a,".fbMapCalloutContent");this._mapWidth=d;this._mapHeight=e;a=this._orientation=c;b("CSS").hide(this._root);b("Style").set(this._root,"position","absolute");this._left=f.left;this._top=f.top;this._right=f.right;this._bottom=f.bottom;Object.assign(this,f);if(a==="left"){b("CSS").setClass(this._arrows,"fbMapCalloutUseArrowLeft");d=this._right+h;b("Style").set(this._root,"right",d+"px")}else if(a==="right"){b("CSS").setClass(this._arrows,"fbMapCalloutUseArrowRight");e=this._left+h;b("Style").set(this._root,"left",e+"px")}else if(a==="top"){b("CSS").setClass(this._arrows,"fbMapCalloutUseArrowTop");c=this._bottom+h;b("Style").set(this._root,"bottom",c+"px")}else if(a==="bottom"){b("CSS").setClass(this._arrows,"fbMapCalloutUseArrowBottom");f=this._top+h;b("Style").set(this._root,"top",f+"px")}if(g){d=b("Parent").bySelector(this._root,"._5cw9");d.appendChild(this._root)}}Object.assign(a.prototype,{setContent:function(a){b("DOM").setContent(this._content,a),this.calloutDimensionsChanged()},calloutDimensionsChanged:function(){__p&&__p();if(this._orientation==="left"||this._orientation==="right"){var a=b("Vector").getElementDimensions(this._main),c=a.y/2;this._top+a.y/2>this._mapHeight-i&&(c=a.y-(this._mapHeight-this._top-i));c>this._top-i&&(c=this._top-i);c=b("clamp")(c,j,a.y-j);this._setArrowYOffset(c);b("Style").set(this._root,"top",this._top-c+"px")}else{a=b("Vector").getElementDimensions(this._main).x;a+=1;c=a/2;this._left+a/2>this._mapWidth-i&&(c=a-(this._mapWidth-this._left-i));c>this._left-i&&(c=this._left-i);c=b("clamp")(c,j,a-j);this._setArrowXOffset(c);b("Style").set(this._root,"left",this._left-c+"px")}},show:function(){b("CSS").show(this._root)},hide:function(){b("CSS").hide(this._root)},setZIndex:function(a){b("Style").set(this._root,"z-index",a)},_setArrowYOffset:function(a){a-=j,b("Style").set(this._leftArrow,"top",a+"px"),b("Style").set(this._rightArrow,"top",a+"px")},_setArrowXOffset:function(a){a-=j,b("Style").set(this._topArrow,"left",a+"px"),b("Style").set(this._bottomArrow,"left",a+"px")}});e.exports=a}),null);
__d("StaticMapPin",["Event"],(function(a,b,c,d,e,f){__p&&__p();var g=0,h=1,i=2,j=10,k=20;function l(a,c,d,e,f){this._pin=a,this._tooltip=c,this._callout=d,this._calloutContainer=e,this._mapID=f,this._state=g,l.instancesByMapID[f]=l.instancesByMapID[f]||[],l.instancesByMapID[f].push(this),b("Event").listen(this._pin,"mouseover",this._onMouseIn.bind(this)),b("Event").listen(this._pin,"mouseout",this._onMouseOut.bind(this)),b("Event").listen(this._pin,"click",this._onClick.bind(this))}Object.assign(l.prototype,{_onMouseIn:function(){if(this._state!==g||!this._tooltip)return;this._calloutContainer.show();this._calloutContainer.setContent(this._tooltip);this._calloutContainer.setZIndex(j);this._state=h},_onMouseOut:function(){if(this._state!==h)return;this._calloutContainer.hide();this._state=g},_onClick:function(){__p&&__p();if(!this._callout)return;if(this._state===i){this._calloutContainer.setContent(this._tooltip);this._calloutContainer.setZIndex(j);this._state=h;return}l.hideAll(this._mapID);this._calloutContainer.show();this._calloutContainer.setContent(this._callout);this._calloutContainer.setZIndex(k);this._state=i}});Object.assign(l,{instancesByMapID:[],hideAll:function(a){a=l.instancesByMapID[a];for(var b=0;b<a.length;b++)a[b]._calloutContainer.hide(),a[b]._state=g},construct:function(a,b,c,d,e){return new l(a,b,c,d,e)}});e.exports=l}),null);
__d("XReviewsTabUpdateHistogramController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/pages/review/update_histogram/",{page_id:{type:"Int"}})}),null);
__d("ReviewsController",["csx","fbt","ix","Arbiter","AsyncRequest","Dialog","DOM","Event","Image.react","React","ReactDOM","Run","XReviewsTabUpdateHistogramController","ge"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j={},k={},l={},m={},n={};a={registerRevealProfanity:function(a,c,d){b("Event").listen(c,"click",function(){a.style.display="none",d.style.display="inline"})},registerButton:function(a,b){j[b]=j[b]||[],j[b].push(a)},registerViewerReview:function(a,b){k[b]=k[b]||[],k[b].push(a)},registerComposer:function(a,b){l[b]=l[b]||[],l[b].push(a)},registerToggle:function(a,b,c,d){m[a]=m[a]||[],m[a].push([b,c,d])},registerStoryDeleteListener:function(a){b("Arbiter").subscribe("Story/delete",function(c,d){this._updateToggles(a,!1),new(b("AsyncRequest"))(b("XReviewsTabUpdateHistogramController").getURIBuilder().setInt("page_id",a).getURI()).setMethod("GET").setReadOnly(!0).send()}.bind(this))},addUserReview:function(a,b,c,d,e,f,g,h,i,j,k){this._updateState(!0,a,b,c,d,e,f,g,h,i,j,k)},deleteUserReview:function(a,b,c,d,e,f){this._updateState(!1,a,null,null,null,b,c,d,f,null,null);if(e){a=document.getElementById(e);b=a.parentNode.parentNode;b.parentNode.removeChild(b)}},_updateState:function(a,c,d,e,f,g,m,n,o,p,q,r){__p&&__p();if(p){f=b("ge")("own_review_container");f&&b("DOM").setContent(f,p)}else if(o){f=b("ge")("viewer_own_review_tab");f&&b("DOM").replace(f,o)}else if(a){p=b("ge")("page_reviews_tab_list");p&&b("DOM").prependContent(p,e);f="div._yj3";o=b("DOM").scry(document,f)[0];o&&o.parentNode.removeChild(o)}p=k[c]||[];for(e=0;e<p.length;e++)b("DOM").remove(p[e]);this._updateToggles(c,a);f=l[c]||[];for(e=0;e<f.length;e++){o=f[e];a?o.hide():(o.clear(),o.show())}p=j[c]||[];for(e=0;e<p.length;e++){o=p[e];f=b("DOM").find(o,".uiButtonText");c=b("DOM").find(o,"i");var s;a?(o=i("76766"),s=h._("Reviewed")):(o=i("76771"),s=h._("Review"));var t=b("DOM").create("span");b("ReactDOM").render(b("React").createElement("div",null,s),f);b("ReactDOM").render(b("React").createElement(b("Image.react"),{src:o,style:{paddingRight:"5px"}}),t);b("DOM").replace(c,t)}if(a){s=b("DOM").scry(document,"#page_recommendations_browse_list")[0];s&&b("DOM").prependContent(s,d)}if(g){f=b("ge")("page_reviews_pill_and_histogram");f&&b("DOM").replace(f,g)}if(m){o=b("ge")("pages_inline_rating_summary");o&&b("DOM").replace(o,m)}if(n){c=b("ge")("pages_review_needy_place_card");c&&b("DOM").replace(c,n)}if(q){t=b("ge")("spotlight_reviews_card_list");t&&b("DOM").prependContent(t,q)}if(r){p=b("ge")("review_composer_container");b("DOM").insertAfter(p,r)}},registerPhotoUpload:function(a,c){b("Arbiter").subscribe("multi-upload/images-upload-completed/"+c,function(){n[c]=!1}),b("Arbiter").subscribe("multi-upload/images-upload-start/"+c,function(){n[c]=!0}),b("Event").listen(a,"submit",function(){if(n[c]){new(b("Dialog"))().setTitle(h._("Photos Are Uploading")).setSemiModal(!0).setButtons(b("Dialog").OK).setBody(h._("Please wait until photo is uploaded before posting.")).show();return!1}return!0}.bind(this))},_updateToggles:function(a,c){a=m[a]||[];for(var d=0;d<a.length;d++){var e=a[d],f=e[c?1:2];b("DOM").setContent(e[0],f)}}};b("Run").onLeave(function(){j={},k={},l={},m={},n={}});e.exports=a}),null);
__d("LocalContentClickLogger",["BanzaiLogger","EventListener"],(function(a,b,c,d,e,f){__p&&__p();a.prototype.initClickThroughLogging=function(a,c,d){"use strict";b("EventListener").listen(a,"click",function(){return this.sendLoggingRequest(c,d)}.bind(this))};a.prototype.initMenuClickLogging=function(a,b,c,d){"use strict";a.subscribe("itemclick",function(a,e){e.item.getValue()==b&&this.sendLoggingRequest(c,d)}.bind(this))};a.prototype.initPrivacyMenuClickLogging=function(a,c,d){"use strict";b("EventListener").listen(a,"click",function(event){c.button_text=event.target.textContent,this.sendLoggingRequest(c,d)}.bind(this))};a.prototype.sendLoggingRequest=function(a,c){"use strict";c=="reviews"?b("BanzaiLogger").log("ReviewConsumptionLoggerConfig",a):c=="review_production"?b("BanzaiLogger").log("ReviewProductionLoggerConfig",a):c=="menus"&&b("BanzaiLogger").log("MenuConsumptionLoggerConfig",a)};function a(){"use strict"}e.exports=new a()}),null);